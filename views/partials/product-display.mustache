<div class="flex flex-wrap -mx-3">
    {{#products}}
        <div class="w-full lg:w-1/3 px-3 mb-16 lg:mb-0">
            <!-- SALE STICKER -->
            <div class="relative">
                <!-- DISCOUNT TAG -->
                {{#onSale}}
                    <span class="absolute bottom-10 left-0 ml-6 mt-6 px-2 py-1 text-xs font-bold font-heading bg-gray-300 border-2 border-red-500 rounded-full text-red-500">-{{salePercent}}
                        %</span>
                {{/onSale}}
                <img class="w-full h-96 object-cover"
                     src="data:{{imageType}};base64, {{imageData}}"
                     onerror="this.src='/dashboard/assets/images/default-product-image.png';this.onerror='';" alt="">
            </div>
            <div class="mt-12" id="{{id}}">
                <!-- PRODUCT INFO -->
                <div class="mb-2">
                    <h3 class="mb-3 text-3xl text-white font-bold font-heading">{{name}}</h3>
                    <p class="text-xl font-bold font-heading text-white">{{description}}</p>
                    <p class="text-xl font-bold font-heading text-white">
                        {{#onSale}}
                            <span>${{sale_price}}</span>
                            <span class="text-xs text-gray-500 font-semibold font-heading line-through">${{price}}</span>
                        {{/onSale}}
                        {{^onSale}}
                            <span>${{price}}</span>
                        {{/onSale}}
                    </p>
                </div>
            </div>

            <!-- ADD TO CART -->
            <form method="post" action="/cart/addToCart">
                {{#hasSize}}
                    <select class="pl-10" name="sizeSelect">
                        <option>Size</option>
                        <option>Small</option>
                        <option>Medium</option>
                        <option>Large</option>
                    </select>
                {{/hasSize}}
                {{#hasColor}}
                    <select class="pl-10" name="colorSelect">
                        <option>Color</option>
                        <option>White</option>
                        <option>Black</option>
                        <option>Red</option>
                        <option>Blue</option>
                        <option>Green</option>
                        <option>Yellow</option>
                    </select>
                {{/hasColor}}
                {{#session.loggedIn}}
                <button class="inline-block py-4 px-8 mb-10 bg-blue-300 hover:bg-blue-400 rounded-md"
                        onclick="productAddedToCartAlert({{id}})">
                {{/session.loggedIn}}
                {{^session.loggedIn}}
                <button class="inline-block py-4 px-8 mb-10 bg-blue-300 hover:bg-blue-400 rounded-md"
                        onclick="noProductAddedToCartAlert({{id}})">
                {{/session.loggedIn}}
                <svg width="12" height="12" viewbox="0 0 12 12" fill="none"
                     xmlns="http://www.w3.org/2000/svg">
                    <rect x="5" width="2" height="12" fill="white"></rect>
                    <rect x="12" y="5" width="2" height="12" transform="rotate(90 12 5)"
                          fill="white"></rect>
                </svg>
                <input type="hidden" value="{{id}}" name="productId"/>
            </button>
            </button>
            </form>
        </div>
    {{/products}}
</div>